<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
        />

        <meta name="google-signin-client_id" content="393787719844-topfounctvitfsubr4hnhkkgt0aak52h.apps.googleusercontent.com">

        <script src="https://apis.google.com/js/api.js" async defer></script>
        <script src="https://accounts.google.com/gsi/client" onload="heyGoogle()" defer></script>

        <title>Google-Sign-In</title>
        <style>
            * {
                box-sizing: border-box;
            }
            body {
                margin: 0;
                padding: 20px;
                width: 100%;
                height: 100%;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                overflow: hidden;
            }
            button {
                all: unset;
                text-align: center;
                padding: 5px 20px;
                background-color: rgb(143, 65, 158);
                color: white;
                text-transform: uppercase;
            }


        </style>
    </head>

    <body id="body">
        <h1>Hello</h1>
        <div class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></div>

    </body>

    <script defer>
    function heyGoogle(){
        console.log(google)
        google.accounts.id.initialize({
            client_id: '393787719844-topfounctvitfsubr4hnhkkgt0aak52h.apps.googleusercontent.com',
            callback: handleCredentialResponse
        });
        google.accounts.id.prompt();
    }
    function handleCredentialResponse(credentials){
        console.log(credentials)
    }
    if (window.ReactNativeWebView) window.ReactNativeWebView.postMessage("hello" );

        function onSignIn(googleUser) {
            console.log(googleUser)
            var profile = googleUser.getBasicProfile();

            console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.

            console.log('Name: ' + profile.getName());

            console.log('Image URL: ' + profile.getImageUrl());

            console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.

}

    </script>
</html>
